{% extends "base.html" %}
{% block title %}{{ section.title }}{% endblock title %}
{% block header %}{% endblock header %}
{% block content %}
{{ section.content | safe}}

<div class="w-100 vstack align-items-center my-5">
<h1>Our Sponsors</h1>

<div id="sponsors">
        
{% set spon_sec = get_section(path="sponsors/_index.md") %}

<div id="gold" class="col-lg-10 mx-auto gap-3 d-flex flex-wrap justify-content-evenly align-items-center">
{% for sponsor in spon_sec.pages %}
{% if sponsor.extra.tier == "Gold" %}
<img src="{{ sponsor.extra.logo }}" style="max-height: 150px; max-width: 100%">
{% endif %}
{% endfor %}
</div>

<div id="silver" class="col-lg-10 mx-auto gap-3 d-flex flex-wrap justify-content-evenly align-items-center">
{% for sponsor in spon_sec.pages %}
{% if sponsor.extra.tier == "Silver" %}
<img src="{{ sponsor.extra.logo }}" style="max-height: 75px; max-width: 100%">
{% endif %}
{% endfor %}
</div>
</div>

<script>
function equalize_visual_size(elem_id, area) {
    const elem = document.getElementById(elem_id)
    for (let s of elem.children) {
        const h = s.height * Math.sqrt(200 * 150 / (s.width * s.height)) 
        s.style.height = `${Math.round(h)}px` 
    }
}

window.addEventListener('load', function () {
    equalize_visual_size("gold", 150 * 100);
    equalize_visual_size("silver", 100 * 75);
})
</script>

{% endblock content%}
